# ADR-0003: Unresolved refs（参照先未確定）の保留ログ

- Date: 2026-01-26
- Status: Deferred（根拠確定まで保留）
- Related:
  - docs/db/refs_missing.md
  - docs/db/data_dictionary.md
  - docs/db/refs_skipped.md

---

## 背景

check_missing_refs により「*_id なのに参照定義が確定できない」項目が検出された。
決め打ちせず、根拠（既存テーブル/旧DB/実装コード）を確認できるまで保留とする。

---

## 対象（2026-01-26 時点）

- informations.required_training_id（参照先未確定）
- pro_bowlers.login_id（参照先未確定）

---

## 保留中のルール

- data_dictionary.md に推測で `->` を追加しない
- 確定できるまで refs_missing / ADR で追跡する

---

## 確定のための最短手順

1. リポジトリ検索：required_training_id / login_id の利用箇所を確認
2. migrations でテーブル実体（候補テーブル名）を確認
3. 旧DB（SQL/SQLite）や画面仕様があれば突合して確定

---

## 次のアクション（根拠が出たら）

- 参照先テーブルとキーを確定
- docs/db/data_dictionary.md に `table.column -> ref_table.id` を追記
- tools/generate_er_from_dictionary.php を再実行
- tools/check_missing_refs.php を再実行し、refs_missing から消えることを確認
